# 重构意图：统一交互入口命名

## 背景

`ask` 在项目早期作为测试入口命名并长期保留，现已成为 CLI、网关、会话与工具链的默认术语。随着你希望将代码结构从“实验化命名”过渡到“对外工程化体验”，该名称成为结构和抽象层面的高频主语，影响可读性与对外表达。

## 目标

1. 以更业务化、可沟通的名称作为主要对外入口。
2. 不保留 `ask` 对外命令与主要语义名，直接将对外入口收敛为 `agent`，并移除兼容分支。
3. 将“改名”作为架构演进任务，不改变核心模型/工具能力语义。

## 非目标

1. 不在本阶段修改底层模型调用、工具执行、会话存储、鉴权或超时策略。
2. 不要求一次性清理全部历史字段与历史文档中的 `ask` 引用；优先处理对外主合同（CLI 与命名边界）。

## 验收标准

1. CLI 以 `agent` 作为唯一首选入口，参数与行为与既有 `ask` 等价（`--provider`, `--profile`, `--session`, `--new-session`, `--memory`, `--with-tools`, `--tool-allow`, `--tool-max-steps`）。
2. `ask` 命令不再提供（或作为别名暴露）；不保留兼容路径。
3. 网关命名层不再出现 `askGateway`，入口统一为 `gateway` 命名。
4. 现有关键调用链（`cli`、`gateway`、`heartbeat`）在功能上不退化。
5. 仅在“对外事实”层面完成命名迁移；实现细节不影响结果语义。
